<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>task0002_1</title>
    <style>
        #main {margin: 0 auto;width: 800px;}
        p { display: none; color: blue; background-color: #999;}
        label { display: block; }
        button {display: block;margin: 10px 0;}
        textarea {margin-top: 10px;}
    </style>
</head>
<body>
    <div id="main">
        <h3>处理兴趣列表</h3>
        <div>允许“换行、空格（全角/半角）、逗号（全角/半角）、顿号、分号”进行分割</div>
        <textarea id="hobbyInput" name="hobby" cols="75" rows="10"></textarea>
        <button type="submit" id="hobbyButton">确定</button>
        <p>输入的爱好数量不能超过10个，或什么都不输入</p>
        <form id="hobbyList"></form>
    </div>
    <script src="js/task0002_1.js" type="text/javascript"></script>
    <script>
        $.click('#hobbyButton',showHobbys);
        function showHobbys() {
            var inp = $('#hobbyInput');
            var value = inp.value.split(/\n|\s+|\,|\.|\，|\。|\;|\、/);
            var unValue = uniqArray(value);
            var len = unValue.length;
            if (len > 10 || unValue == '') {
                $('p').style.display = 'block';
            }
            else {
                $('p').style.display = 'none';
                $('#hobbyList').innerHTML = '';
                var frag = document.createDocumentFragment();
                for (var i = 0; i < len; i++) {
                    var trimValue = trim(unValue[i]);
                    if (trimValue !== '') {
                        $('#hobbyList').innerHTML += "<label>" + "<input type='checkbox'>" + trimValue + "</label>";
                    }
                }
            }
        }
    </script>
</body>
</html>